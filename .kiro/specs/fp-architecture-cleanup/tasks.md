# Implementation Plan

## Phase 1: éªŒè¯å¹¶åˆ é™¤æ— å¼•ç”¨çš„ Domain æ¨¡å—

- [x] 1. éªŒè¯ domain æ¨¡å—æ— å¼•ç”¨
  - è¿è¡Œ grep æ£€æŸ¥æ¯ä¸ªæ¨¡å—çš„å¼•ç”¨
  - è®°å½•ä»»ä½•æ„å¤–çš„å¼•ç”¨
  - _Requirements: 1.1-1.6_

- [x] 2. åˆ é™¤æ— å¼•ç”¨çš„ domain æ¨¡å—
  - [x] 2.1 åˆ é™¤ `domain/import-export/` ç›®å½•
  - [x] 2.2 åˆ é™¤ `domain/keyboard/` ç›®å½•
  - [x] 2.3 åˆ é™¤ `domain/save/` ç›®å½•
  - [x] 2.4 åˆ é™¤ `domain/selection/` ç›®å½•
  - [x] 2.5 åˆ é™¤ `domain/writing/` ç›®å½•
  - æ³¨ï¼š`domain/editor-history/` ä¸å­˜åœ¨ï¼Œè·³è¿‡
  - _Requirements: 1.1-1.6_

## Phase 2: éªŒè¯å¹¶åˆ é™¤æ— å¼•ç”¨çš„ Services æ–‡ä»¶

- [x] 3. éªŒè¯ services æ–‡ä»¶æ— å¼•ç”¨
  - è¿è¡Œ grep æ£€æŸ¥æ¯ä¸ªæ–‡ä»¶çš„å¼•ç”¨
  - è®°å½•ä»»ä½•æ„å¤–çš„å¼•ç”¨
  - _Requirements: 2.1-2.5_

- [x] 4. åˆ é™¤æ— å¼•ç”¨çš„ services æ–‡ä»¶
  - [x] 4.1 åˆ é™¤ `services/export-path.ts`
  - [x] 4.2 åˆ é™¤ `services/import-export.ts`
  - [x] 4.3 åˆ é™¤ `services/tags.ts`
  - [x] 4.4 åˆ é™¤ `services/workspaces.ts`
  - æ³¨ï¼š`services/drawings.utils.ts` ä»è¢« `drawings.ts` ä½¿ç”¨ï¼Œä¿ç•™
  - _Requirements: 2.1-2.5_

## Phase 3: æ›´æ–° Services ç´¢å¼•

- [x] 5. æ›´æ–° services/index.ts
  - ç§»é™¤å¯¹å·²åˆ é™¤æ¨¡å—çš„ re-export
  - æ·»åŠ å¯¹æ–°ä½ç½®çš„ re-exportï¼ˆå‘åå…¼å®¹ï¼‰
  - _Requirements: 3.1-3.2_

## Phase 4: éªŒè¯åŠŸèƒ½

- [x] 6. è¿è¡Œç±»å‹æ£€æŸ¥
  - æ‰§è¡Œ `bunx tsc --noEmit`
  - 20 ä¸ªé¢„å­˜åœ¨çš„ç±»å‹é”™è¯¯ï¼ˆä¸æ¸…ç†æ— å…³ï¼‰
  - _Requirements: 4.1_

- [x] 7. è¿è¡Œæµ‹è¯•
  - æ‰§è¡Œ `bunx vitest run`
  - 58 ä¸ªæµ‹è¯•æ–‡ä»¶é€šè¿‡ï¼Œ7 ä¸ªå¤±è´¥ï¼ˆIndexedDB mock é—®é¢˜ï¼Œé¢„å­˜åœ¨ï¼‰
  - _Requirements: 4.1_

- [ ] 8. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
  - æ‰§è¡Œ `bun run desktop:dev`
  - ç¡®è®¤åº”ç”¨æ­£å¸¸å¯åŠ¨
  - _Requirements: 4.2_

- [ ] 9. æ‰‹åŠ¨åŠŸèƒ½æµ‹è¯•
  - [ ] 9.1 æµ‹è¯•åˆ›å»ºæ—¥è®°
  - [ ] 9.2 æµ‹è¯•åˆ›å»º Wiki
  - [ ] 9.3 æµ‹è¯•åˆ›å»ºè®°è´¦
  - [ ] 9.4 æµ‹è¯•æ–‡ä»¶æ ‘æ“ä½œ
  - _Requirements: 4.3-4.4_

## Phase 5: æœ€ç»ˆæ¸…ç†ï¼ˆå¯é€‰ï¼‰

- [ ] 10. è¯„ä¼°æ˜¯å¦åˆ é™¤æ•´ä¸ª domain ç›®å½•
  - æ£€æŸ¥å‰©ä½™çš„ domain æ¨¡å—æ˜¯å¦è¿˜æœ‰å¼•ç”¨
  - å¦‚æœå…¨éƒ¨æ— å¼•ç”¨ï¼Œåˆ é™¤æ•´ä¸ª domain/ ç›®å½•
  - _Requirements: 5.1_

- [ ] 11. è¯„ä¼°æ˜¯å¦åˆ é™¤æ•´ä¸ª services ç›®å½•
  - æ£€æŸ¥å‰©ä½™çš„ services æ–‡ä»¶æ˜¯å¦è¿˜æœ‰å¼•ç”¨
  - å¦‚æœå…¨éƒ¨æ— å¼•ç”¨ï¼Œåˆ é™¤æ•´ä¸ª services/ ç›®å½•
  - _Requirements: 5.2_

- [ ] 12. è¯„ä¼°æ˜¯å¦åˆ é™¤ db/models ç›®å½•
  - æ£€æŸ¥ db/models æ˜¯å¦è¿˜æœ‰å¼•ç”¨
  - å¦‚æœå…¨éƒ¨æ— å¼•ç”¨ï¼Œåˆ é™¤ db/models/ ç›®å½•
  - _Requirements: 5.3_

## Phase 6: æäº¤å˜æ›´

- [ ] 13. æäº¤æ¸…ç†å˜æ›´
  - git add -A
  - git commit -m "chore: åˆ é™¤å·²è¿ç§»çš„æ—§ä»£ç "
  - _Requirements: 5.1-5.3_

---

## ğŸ“Š è¿›åº¦æ€»ç»“

### é¢„è®¡æ—¶é—´
- Phase 1: 15 åˆ†é’Ÿ
- Phase 2: 10 åˆ†é’Ÿ
- Phase 3: 10 åˆ†é’Ÿ
- Phase 4: 20 åˆ†é’Ÿ
- Phase 5: 15 åˆ†é’Ÿ
- Phase 6: 5 åˆ†é’Ÿ

**æ€»è®¡: çº¦ 1.5 å°æ—¶**

### é£é™©è¯„ä¼°

| é£é™© | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|----------|
| æ„å¤–åˆ é™¤æœ‰å¼•ç”¨çš„æ–‡ä»¶ | é«˜ | åˆ é™¤å‰éªŒè¯å¼•ç”¨ |
| å‘åå…¼å®¹æ€§é—®é¢˜ | ä¸­ | ä¿ç•™ re-export |
| æµ‹è¯•å¤±è´¥ | ä¸­ | é€æ­¥åˆ é™¤ï¼Œæ¯æ­¥éªŒè¯ |
