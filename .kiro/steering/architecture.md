# Grain å‡½æ•°å¼æ•°æ®æµæ¶æ„

æœ¬æ–‡æ¡£å®šä¹‰ Grain é¡¹ç›®çš„æ ¸å¿ƒæ¶æ„è®¾è®¡ï¼ŒåŸºäºå‡½æ•°å¼ç¼–ç¨‹ç†å¿µï¼Œå®ç°æ•°æ®çš„å•å‘æµåŠ¨ã€‚

> ğŸ“š **ç›¸å…³æ–‡æ¡£**ï¼š
> - `#data-flow-frontend` - å‰ç«¯æ•°æ®æµè¯¦è§£ï¼ˆåŒæ­¥/å¼‚æ­¥ï¼‰
> - `#data-flow-backend` - Rust åç«¯æ•°æ®æµè¯¦è§£
> - `#data-flow-e2e` - ç«¯åˆ°ç«¯æ•°æ®æµæ¶æ„

## è®¾è®¡å“²å­¦

```
å¯¹è±¡ = çº¯æ•°æ®ï¼ˆInterface + Builder æ„å»ºï¼‰
æ“ä½œ = çº¯å‡½æ•°ï¼ˆå¯¹æ•°æ®è¿›è¡Œå˜æ¢ï¼‰
æµåŠ¨ = ç®¡é“ï¼ˆpipe è¿æ¥å‡½æ•°ï¼‰
è¾¹ç•Œ = å…¥å£çª„ï¼Œå‡ºå£å®½
å»ä¸­å¿ƒåŒ– = æ²¡æœ‰"æ ¸å¿ƒ"ï¼Œåªæœ‰ç»„åˆ
```

- **æ•°æ®æ˜¯æ°´æµ**ï¼šæ•°æ®åƒæ°´ä¸€æ ·æµç»ç®¡é“ï¼Œæ¯ä¸ªç®¡é“èŠ‚ç‚¹æ˜¯ä¸€ä¸ªçº¯å‡½æ•°
- **å¯¹è±¡æ— æ–¹æ³•**ï¼šInterface å’Œ Builder åªå®šä¹‰æ•°æ®ç»“æ„ï¼Œä¸åŒ…å«è¡Œä¸º
- **å‡½æ•°æ˜¯ç®¡é“**ï¼šæ‰€æœ‰æ“ä½œéƒ½æ˜¯çº¯å‡½æ•°ï¼Œé€šè¿‡ pipe ç»„åˆ
- **ä¸å¯å˜æ€§**ï¼šæ•°æ®ä¸€æ—¦åˆ›å»ºå°±ä¸å¯ä¿®æ”¹ï¼Œæ›´æ–°äº§ç”Ÿæ–°å¯¹è±¡
- **å…¥å£çª„å‡ºå£å®½**ï¼šä¸¥æ ¼æ ¡éªŒè¾“å…¥ï¼ˆZod/serdeï¼‰ï¼Œå®½æ¾å¤„ç†è¾“å‡ºï¼ˆå®¹é”™ã€é™çº§ï¼‰
- **å»ä¸­å¿ƒåŒ–**ï¼šæ²¡æœ‰"æ ¸å¿ƒ"æˆ–"æœåŠ¡"ï¼Œå¤æ‚æ€§æ¥è‡ªç®¡é“çš„ç»„åˆ

---

## å‰ç«¯ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ views/          # è§†å›¾ï¼ˆUI æ¸²æŸ“ï¼‰
â”œâ”€â”€ hooks/          # ç»‘å®šï¼ˆReact ç”Ÿå‘½å‘¨æœŸï¼‰
â”œâ”€â”€ flows/          # ç®¡é“ç³»ç»Ÿï¼ˆç»„åˆ pipes + ioï¼‰
â”œâ”€â”€ pipes/          # çº¯ç®¡é“ï¼ˆä¸šåŠ¡æ•°æ®è½¬æ¢ï¼‰
â”œâ”€â”€ io/             # IO ç®¡é“ï¼ˆå¤–éƒ¨äº¤äº’ï¼‰
â”œâ”€â”€ state/          # å†…éƒ¨çŠ¶æ€ï¼ˆZustandï¼‰
â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°ï¼ˆé€šç”¨çº¯å‡½æ•°ï¼‰
â”œâ”€â”€ types/          # ç±»å‹å®šä¹‰
â””â”€â”€ routes/         # è·¯ç”±
```

### å„å±‚èŒè´£

| æ–‡ä»¶å¤¹ | èŒè´£ | çº¯å‡½æ•°ï¼Ÿ | æœ‰ IOï¼Ÿ | æœ‰ Reactï¼Ÿ |
|--------|------|---------|--------|-----------|
| `views/` | UI æ¸²æŸ“ | âœ— | âœ— | âœ“ |
| `hooks/` | React ç”Ÿå‘½å‘¨æœŸç»‘å®š | âœ— | âœ— | âœ“ |
| `flows/` | ç»„åˆ pipes + io å½¢æˆä¸šåŠ¡æµç¨‹ | âœ— | âœ“ | âœ— |
| `pipes/` | ä¸šåŠ¡æ•°æ®è½¬æ¢ï¼ˆçº¯å‡½æ•°ï¼‰ | âœ“ | âœ— | âœ— |
| `io/` | ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’ | âœ— | âœ“ | âœ— |
| `state/` | åº”ç”¨å†…éƒ¨çŠ¶æ€ | âœ— | âœ— | âœ— |
| `utils/` | é€šç”¨å·¥å…·å‡½æ•° | âœ“ | âœ— | âœ— |
| `types/` | ç±»å‹å®šä¹‰ | - | - | - |

---

## æ°´æµæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         æ°´æµç³»ç»Ÿ                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    å¤–éƒ¨ä¸–ç•Œï¼ˆRust åç«¯ã€æµè§ˆå™¨å­˜å‚¨ã€æ–‡ä»¶ç³»ç»Ÿï¼‰
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   io/   â”‚  â† å…¥æ°´å£/å‡ºæ°´å£ï¼ˆIO ç®¡é“ï¼Œè¿æ¥å¤–éƒ¨ï¼‰
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ pipes/  â”‚  â† å†…éƒ¨ç®¡é“ï¼ˆçº¯æ•°æ®è½¬æ¢ï¼‰
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ flows/  â”‚ â†â†’ â”‚ state/  â”‚  â† è“„æ°´æ± ï¼ˆå†…éƒ¨è®°å¿†ï¼‰
    â”‚(ç®¡é“ç³»ç»Ÿ)â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ hooks/  â”‚  â† æ°´é¾™å¤´ï¼ˆReact ç»‘å®šï¼‰
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ views/  â”‚  â† å–·æ³‰ï¼ˆUI å±•ç¤ºï¼‰
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## IO å±‚ç»“æ„

IO å±‚æŒ‰äº¤äº’ç›®æ ‡åˆ†ç±»ï¼š

```
io/
â”œâ”€â”€ api/              # Rust åç«¯ APIï¼ˆinvoke/fetchï¼‰
â”‚   â”œâ”€â”€ workspace.api.ts
â”‚   â”œâ”€â”€ node.api.ts
â”‚   â”œâ”€â”€ content.api.ts
â”‚   â”œâ”€â”€ user.api.ts
â”‚   â”œâ”€â”€ tag.api.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ storage/          # æµè§ˆå™¨å­˜å‚¨ï¼ˆlocalStorageï¼‰
â”‚   â”œâ”€â”€ settings.storage.ts
â”‚   â”œâ”€â”€ export.storage.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ file/             # æ–‡ä»¶ç³»ç»Ÿï¼ˆå¯¹è¯æ¡†ã€ä¸‹è½½ï¼‰
â”‚   â”œâ”€â”€ dialog.file.ts
â”‚   â”œâ”€â”€ download.file.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ log/              # æ—¥å¿—ç³»ç»Ÿï¼ˆæ§åˆ¶å° + IndexedDBï¼‰
â”‚   â”œâ”€â”€ logger.ts
â”‚   â”œâ”€â”€ log-db.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ db/               # æ•°æ®åº“ï¼ˆIndexedDB/Dexieï¼‰
â”‚   â”œâ”€â”€ log-db.ts
â”‚   â”œâ”€â”€ legacy-database.ts
â”‚   â””â”€â”€ index.ts
â””â”€â”€ index.ts
```

### IO ç±»å‹åŒºåˆ†

| ç±»å‹ | ç›®æ ‡ | ç‰¹ç‚¹ |
|------|------|------|
| `api/` | Rust åç«¯ | è·¨è¿›ç¨‹ï¼Œå¼‚æ­¥ï¼Œå¯èƒ½å¤±è´¥ |
| `storage/` | æµè§ˆå™¨ localStorage | åŒæ­¥ï¼ŒæŒä¹…åŒ– |
| `file/` | æ–‡ä»¶ç³»ç»Ÿ | éœ€è¦ç”¨æˆ·äº¤äº’ |
| `log/` | æ§åˆ¶å° + IndexedDB | æ—¥å¿—è®°å½•ï¼Œé«˜é¢‘å†™å…¥ |
| `db/` | IndexedDB (Dexie) | é—ç•™æ•°æ®åº“ï¼Œå‘åå…¼å®¹ |

---

## Pipes å±‚ç»“æ„

Pipes æŒ‰ä¸šåŠ¡é¢†åŸŸåˆ†ç±»ï¼š

```
pipes/
â”œâ”€â”€ node/
â”‚   â”œâ”€â”€ tree.pipe.ts
â”‚   â”œâ”€â”€ transform.pipe.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ markdown.pipe.ts
â”‚   â”œâ”€â”€ serialize.pipe.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ export/
â”‚   â”œâ”€â”€ bundle.pipe.ts
â”‚   â”œâ”€â”€ format.pipe.ts
â”‚   â””â”€â”€ index.ts
â””â”€â”€ index.ts
```

---

## Flows å±‚ç»“æ„

Flows ç»„åˆ pipes + io å½¢æˆå®Œæ•´ä¸šåŠ¡æµç¨‹ï¼š

```
flows/
â”œâ”€â”€ workspace/
â”‚   â”œâ”€â”€ create-workspace.flow.ts
â”‚   â”œâ”€â”€ delete-workspace.flow.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ node/
â”‚   â”œâ”€â”€ create-node.flow.ts
â”‚   â”œâ”€â”€ move-node.flow.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ export/
â”‚   â”œâ”€â”€ export-markdown.flow.ts
â”‚   â”œâ”€â”€ export-bundle.flow.ts
â”‚   â””â”€â”€ index.ts
â””â”€â”€ index.ts
```

---

## æ–‡ä»¶å‘½åè§„èŒƒ

| æ–‡ä»¶å¤¹ | åç¼€ | ç¤ºä¾‹ |
|--------|------|------|
| `io/api/` | `.api.ts` | `workspace.api.ts` |
| `io/storage/` | `.storage.ts` | `settings.storage.ts` |
| `io/file/` | `.file.ts` | `dialog.file.ts` |
| `pipes/` | `.pipe.ts` | `markdown.pipe.ts` |
| `flows/` | `.flow.ts` | `create-workspace.flow.ts` |
| `hooks/` | `use-{name}.ts` | `use-workspace.ts` |
| `views/` | `.view.tsx` | `sidebar.view.tsx` |
| `state/` | `.state.ts` | `selection.state.ts` |
| `utils/` | `.util.ts` | `date.util.ts` |

---

## ä¾èµ–è§„åˆ™

```
views/  â†’  åªèƒ½ä¾èµ– hooks/, types/
hooks/  â†’  åªèƒ½ä¾èµ– flows/, state/, types/
flows/  â†’  åªèƒ½ä¾èµ– pipes/, io/, state/, types/
pipes/  â†’  åªèƒ½ä¾èµ– utils/, types/
io/     â†’  åªèƒ½ä¾èµ– types/
state/  â†’  åªèƒ½ä¾èµ– types/
utils/  â†’  åªèƒ½ä¾èµ– types/
```

### ä¾èµ–å…³ç³»å›¾

```
                              types/
                                â”‚
                                â”‚ è¢«æ‰€æœ‰å±‚ä¾èµ–
                                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚                       â”‚
        â–¼                       â–¼                       â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ utils/ â”‚             â”‚  io/   â”‚             â”‚ state/ â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
         â”‚                      â”‚                      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
                    â”‚                                  â”‚
                    â–¼                                  â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
              â”‚  pipes/  â”‚                             â”‚
              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                             â”‚
                   â”‚                                   â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚   flows/   â”‚
                            â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚   hooks/   â”‚
                            â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚   views/   â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## è§’è‰²å¯¹ç…§è¡¨ï¼ˆæ°´æµæ¯”å–»ï¼‰

| æ¦‚å¿µ | æ–‡ä»¶å¤¹ | æ°´æµè§’è‰² | ç‰¹ç‚¹ |
|-----|--------|---------|-----|
| **IO** | `io/` | å…¥æ°´å£/å‡ºæ°´å£ | è¿æ¥å¤–éƒ¨ä¸–ç•Œ |
| **çº¯ç®¡é“** | `pipes/` | å†…éƒ¨ç®¡é“ | çº¯æ•°æ®è½¬æ¢ï¼Œæ— å‰¯ä½œç”¨ |
| **ç®¡é“ç³»ç»Ÿ** | `flows/` | ç®¡ç½‘ | ç»„åˆ pipes + io |
| **çŠ¶æ€** | `state/` | è“„æ°´æ±  | å†…éƒ¨è®°å¿† |
| **ç»‘å®š** | `hooks/` | æ°´é¾™å¤´ | è¿æ¥ React |
| **è§†å›¾** | `views/` | å–·æ³‰ | æœ€ç»ˆå±•ç¤º |
| **å·¥å…·** | `utils/` | ç®¡é“é…ä»¶ | é€šç”¨å·¥å…· |
| **ç±»å‹** | `types/` | æ°´çš„å½¢çŠ¶ | æ•°æ®å®šä¹‰ |

---

## å…¥å£çª„å‡ºå£å®½åŸåˆ™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å…¥å£çª„å‡ºå£å®½                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚    å¤–éƒ¨æ•°æ®                                                      â”‚
â”‚        â”‚                                                        â”‚
â”‚        â–¼                                                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚    â”‚           ğŸšª çª„å…¥å£ï¼ˆä¸¥æ ¼æ ¡éªŒï¼‰          â”‚                   â”‚
â”‚    â”‚                                       â”‚                   â”‚
â”‚    â”‚  - Zod Schema ä¸¥æ ¼æ ¡éªŒ                â”‚                   â”‚
â”‚    â”‚  - serde ååºåˆ—åŒ– + è‡ªå®šä¹‰æ ¡éªŒ         â”‚                   â”‚
â”‚    â”‚  - æ‹’ç»ä¸ç¬¦åˆè§„èŒƒçš„æ•°æ®                â”‚                   â”‚
â”‚    â”‚  - æ—©å¤±è´¥ï¼Œå¿«å¤±è´¥                      â”‚                   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                        â”‚                                        â”‚
â”‚                        â–¼                                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚    â”‚           ğŸ­ çº¯å‡½æ•°å¤„ç†æ ¸å¿ƒ             â”‚                   â”‚
â”‚    â”‚                                       â”‚                   â”‚
â”‚    â”‚  - pipes/ çº¯æ•°æ®è½¬æ¢                  â”‚                   â”‚
â”‚    â”‚  - ç±»å‹å®‰å…¨çš„æ•°æ®æµ                    â”‚                   â”‚
â”‚    â”‚  - ä¸å¯å˜æ•°æ®è½¬æ¢                      â”‚                   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                        â”‚                                        â”‚
â”‚                        â–¼                                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚    â”‚           ğŸš€ å®½å‡ºå£ï¼ˆå®¹é”™è¾“å‡ºï¼‰          â”‚                   â”‚
â”‚    â”‚                                       â”‚                   â”‚
â”‚    â”‚  - ä¼˜é›…é™çº§ï¼ˆç¼ºå¤±å­—æ®µç”¨é»˜è®¤å€¼ï¼‰         â”‚                   â”‚
â”‚    â”‚  - å‘åå…¼å®¹çš„å“åº”æ ¼å¼                  â”‚                   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ•°æ®ä¸‰å±‚å®ˆå«

| å±‚çº§ | èŒè´£ | æ—¶æœº |
|------|------|------|
| **Zod Schema** | è¿è¡Œæ—¶æ ¡éªŒå¤–éƒ¨æ•°æ® | æ•°æ®å…¥å£ï¼ˆio/ï¼‰ |
| **Interface** | ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥ | å¼€å‘æ—¶ |
| **Builder** | æ„å»ºçº¦æŸ + ä¸å¯å˜ | å¯¹è±¡åˆ›å»º |

---

## å‰åç«¯æ•°æ®æµå¯¹ç…§

| å‰ç«¯ (TypeScript) | åç«¯ (Rust) | è¯´æ˜ |
|------------------|-------------|------|
| `Zod Schema` | `serde Deserialize` | è¿è¡Œæ—¶æ•°æ®æ ¡éªŒ |
| `Interface` | `Struct` | ç¼–è¯‘æ—¶ç±»å‹å®šä¹‰ |
| `*.pipe.ts` | `*_fn.rs` | çº¯å‡½æ•° |
| `*.flow.ts` | API endpoint | ä¸šåŠ¡æµç¨‹ |
| `*.api.ts` | Tauri command | IO è¾¹ç•Œ |
| `pipe()` | `?` + `map()` | å‡½æ•°ç»„åˆ |
| `TaskEither` | `Result<T, AppError>` | é”™è¯¯å¤„ç† |
| `state/` | (æ— å¯¹åº”) | å‰ç«¯çŠ¶æ€ç®¡ç† |
| `hooks/` | (æ— å¯¹åº”) | React ç»‘å®š |
