# Cargo 配置优化

[source.crates-io]
replace-with = 'rsproxy-sparse'

[source.rsproxy]
registry = "https://rsproxy.cn/crates.io-index"

[source.rsproxy-sparse]
registry = "sparse+https://rsproxy.cn/index/"

[registries.rsproxy]
index = "https://rsproxy.cn/crates.io-index"

[net]
git-fetch-with-cli = true

# 编译优化
[build]
jobs = 8  # 使用所有 CPU 核心
incremental = true

# 开发环境优化
[profile.dev]
opt-level = 0
debug = true
split-debuginfo = "unpacked"

# 生产环境优化
[profile.release]
opt-level = 3
lto = "thin"
codegen-units = 1
strip = true

# 测试环境优化
[profile.test]
opt-level = 1
